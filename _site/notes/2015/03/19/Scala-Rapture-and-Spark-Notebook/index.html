
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Scala Rapture And Spark Notebook</title>
    
    <meta name="author" content="Jason Xie">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
    
      <div class="container">
        
<div class="page-header">
  <h1>Scala Rapture And Spark Notebook <small>SFScala talk @ Nitro</small></h1>
</div>

<div class="row post-full">
  <a href="http://127.0.0.1:4000" class="btn btn-large">Back</a>
  <div class="col-xs-12">
    <div class="date">
      <span>19 March 2015</span>
    </div>
    <div class="content">
      
<h3 id="first-talk---rapture">First talk - Rapture</h3>
<p>TL;DR: rapture = pseudo-dynamic, typesafe, supports typeless data</p>

<ul>
  <li>Installing scala: (scala version 2.10 works —&gt; 2.11 doesn’t.)</li>
  <li>wget http://rapture.io/snapshot.jar</li>
  <li>scala -cp snapshot.jar</li>
</ul>

<h5 id="rapture-is-a-collection-of-40-6x-libraries-eg-io-cryptography-and-json--xml-processing-to-deal-with-dynamic-vs-static-world">Rapture is a collection of (40-6x) libraries (e.g. I/O, cryptography and JSON &amp; XML processing), to deal with dynamic vs static world</h5>

<p>example:</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">rapture.uri._</span> 
<span class="k">import</span> <span class="nn">rapture.net._</span>

<span class="k">val</span> <span class="n">sample</span> <span class="k">=</span> <span class="n">uri</span><span class="s">&quot;http://rapture.io/sample.json” /** creates a HttpUrl */</span>

<span class="s">val sample = uri&quot;</span><span class="n">http</span><span class="o">://</span><span class="n">rapture</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">sample</span><span class="o">.</span><span class="n">json</span><span class="err">”</span> <span class="cm">/** creates a HttpUrl */</span>
<span class="k">if</span> <span class="n">we</span> <span class="k">do:</span> <span class="kt">uri</span><span class="err">”</span><span class="kt">htpp://rapture.io</span><span class="err">”</span><span class="o">,</span> <span class="n">need</span> <span class="n">to</span> <span class="err">—</span><span class="o">&gt;</span> <span class="k">import</span> <span class="nn">rapture.codec._</span>
<span class="k">import</span> <span class="nn">encodings._</span><span class="err">’</span><span class="nc">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">’</span><span class="o">.</span><span class="k">_</span>
<span class="n">now</span> <span class="n">when</span> <span class="n">we</span> <span class="k">do</span> <span class="n">slurp</span><span class="k">:</span> <span class="kt">sample.slurp</span><span class="o">[</span><span class="kt">Char</span><span class="o">]</span> <span class="err">—</span><span class="o">&gt;</span> <span class="n">prints</span> <span class="n">the</span> <span class="n">json</span>

<span class="k">import</span> <span class="nn">rapture.json._</span>
<span class="k">this</span> <span class="n">imports</span> <span class="n">various</span> <span class="n">json</span> <span class="n">backends</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="nc">Argonaut</span><span class="o">,</span> <span class="nc">Jackson</span><span class="o">,</span> <span class="nc">Jawn</span><span class="o">,</span><span class="err">…</span>
<span class="nc">Json</span><span class="o">.</span><span class="n">parse</span><span class="o">(</span><span class="n">src</span><span class="o">)</span> <span class="err">—</span><span class="o">&gt;</span> <span class="n">works</span> <span class="n">just</span> <span class="n">like</span> <span class="n">a</span> <span class="n">normal</span> <span class="n">function</span> <span class="n">in</span> <span class="n">a</span> <span class="n">language</span> <span class="n">like</span> <span class="n">ruby</span>
<span class="nc">Although</span> <span class="n">json</span> <span class="n">fundamentally</span> <span class="n">is</span> <span class="n">typeless</span><span class="o">,</span> <span class="n">rapture</span> <span class="n">uses</span> <span class="n">the</span> <span class="n">backend</span> <span class="n">libraries</span> <span class="n">to</span> <span class="n">make</span> <span class="k">this</span> <span class="n">easy</span><span class="o">,</span> <span class="n">so</span> <span class="n">we</span> <span class="n">can</span> <span class="n">program</span> <span class="n">scala</span> <span class="n">like</span> <span class="n">a</span> <span class="n">dynamic</span> <span class="n">language</span>

<span class="k">val</span> <span class="n">json</span> <span class="k">=</span> <span class="nc">Json</span><span class="o">.</span><span class="n">parse</span><span class="o">(</span><span class="n">src</span><span class="o">)</span>
<span class="n">json</span><span class="o">.</span><span class="n">groups</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">members</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="n">name</span> <span class="o">(</span><span class="k">this</span> <span class="n">outputs</span> <span class="n">undefined</span><span class="o">;</span> <span class="n">not</span> <span class="n">error</span> <span class="n">at</span> <span class="n">runtime</span><span class="o">)</span>
<span class="n">more</span> <span class="n">examples</span> <span class="n">to</span> <span class="n">illustrate</span> <span class="n">that</span> <span class="n">it</span> <span class="n">works</span><span class="k">:</span>
<span class="kt">json</span> <span class="kt">\</span> <span class="err">&quot;</span><span class="kt">groups</span><span class="err">&quot;</span>
<span class="kt">json</span> <span class="kt">\\</span> <span class="err">&quot;</span><span class="kt">groups</span><span class="err">&quot;</span>

<span class="kt">json</span><span class="err">&quot;&quot;&quot;</span> <span class="o">{}</span> <span class="err">&quot;&quot;&quot;</span>
<span class="kt">json</span><span class="err">&quot;&quot;&quot;</span> <span class="o">{</span><span class="err">&quot;</span><span class="kt">foo</span><span class="err">&quot;</span> <span class="kt">:</span> <span class="err">&quot;</span><span class="kt">bar</span><span class="err">&quot;</span><span class="o">}</span>  <span class="err">&quot;&quot;&quot;</span>
<span class="o">(</span><span class="kt">res</span><span class="k">#</span> <span class="kt">\\</span> <span class="err">&quot;</span><span class="kt">key</span><span class="err">&quot;</span><span class="o">)</span> <span class="err">—</span><span class="kt">&gt;</span> <span class="kt">works</span>
<span class="o">(</span><span class="n">res</span><span class="k">#</span> <span class="o">\\</span> <span class="s">&quot;key&quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">)</span> <span class="err">—</span><span class="o">&gt;</span> <span class="n">works</span>
<span class="o">(</span><span class="n">res</span><span class="k">#</span> <span class="o">\\</span> <span class="s">&quot;key&quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">).</span><span class="n">substring</span><span class="o">(</span><span class="nc">HUGENUMBER</span> <span class="n">that</span> <span class="n">doesn</span><span class="err">’</span><span class="n">t</span> <span class="n">exist</span><span class="o">)</span> <span class="err">—</span><span class="o">&gt;</span> <span class="n">outputs</span><span class="k">:</span> <span class="kt">rapture.json.Json</span> <span class="o">=</span> <span class="n">undefined</span>
<span class="nc">Again</span><span class="o">,</span> <span class="n">there</span> <span class="n">is</span> <span class="n">no</span> <span class="n">exception</span> <span class="n">thrown</span><span class="o">.</span> <span class="n">keeps</span> <span class="nc">Rapture</span><span class="err">’</span><span class="n">s</span> <span class="n">promise</span> <span class="n">to</span> <span class="n">not</span> <span class="n">cause</span> <span class="n">runtime</span> <span class="n">errors</span></code></pre></div>

<h5 id="design-philosophy-no-one-likes-runtime-exceptions-so-need-a-solution-to-typeless-data">design philosophy: no one likes runtime exceptions, so need a solution to typeless data</h5>

<h5 id="rapture-a-way-to-implement-the-potential-solutions-for-typeless-data-without-exceptions">rapture: a way to implement the potential solutions for typeless data without exceptions</h5>

<h5 id="why-is-this-library-important">why is this library important:</h5>
<ul>
  <li>Scala developers love type-safety</li>
  <li>this is bad for typeless data like user input or JSON file</li>
  <li>rapture has the tools to deal with the typeless inputs</li>
  <li>interface is the same as a non-static language</li>
  <li>life = easy</li>
</ul>

<h3 id="second-talk---spark-notebookrepl-for-distributed-data-analysis">Second talk - Spark Notebook(REPL for distributed data analysis)</h3>
<p>**REPL is the interactive CLI for Scala —&gt; similar to ipython and ipython notebooks</p>

<ul>
  <li>The spark notebook is browser based —&gt; control apache spark from browser</li>
  <li>the interface is just like an ipython notebook, well because it is built off ipython (see https://bigsnarf.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-8-56-29-pm.png)</li>
  <li>how it works:</li>
  <li>input —&gt; ipython parser —&gt; scala code —&gt; spark</li>
  <li>results —&gt; js parser —&gt; formatted via D3 and numpy</li>
</ul>

<h5 id="why-is-this-important">why is this important:</h5>
<ul>
  <li>spark notebook allows for reproducible analysis using scala and spark</li>
  <li>the original data (and original computer code) can be analyzed (by an independent investigator) to obtain the same results of the original study</li>
  <li>very difficult in data science because of the nature of machine learning</li>
  <li>creates a spark environment, controlled via scala, interactive via ipython</li>
</ul>

    </div>
  </div>
</div>
<br>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 Jason Xie jxieeducation@berkeley.edu
        </p>
      </div>
    </div>

    


    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

